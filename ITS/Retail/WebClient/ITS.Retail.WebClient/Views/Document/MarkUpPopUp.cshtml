@using ITS.Retail.Model
@using ITS.Retail.ResourcesLib;

@{
    PopupControlSettings popUpSettings = ITS.Retail.WebClient.Extensions.PopUpControlExtension.GetDefaultSettings("MarkUpPopUp",Width: 50, Height:50);
    popUpSettings.CallbackRouteValues = new { Controller = "Document", Action = "MarkUpPopUp" };
    popUpSettings.AutoUpdatePosition = true;
    popUpSettings.PopupHorizontalAlign = PopupHorizontalAlign.OutsideLeft;
    popUpSettings.PopupVerticalAlign = PopupVerticalAlign.Above;
    popUpSettings.ScrollBars = System.Web.UI.WebControls.ScrollBars.Auto;
    popUpSettings.ClientSideEvents.Shown = "function(s,e) {" + popUpSettings.Name + ".SetHeight(window.innerHeight);" + popUpSettings.Name + ".SetWidth(window.innerWidth);  }";

    popUpSettings.ClientSideEvents.BeginCallback = "";
    popUpSettings.ClientSideEvents.EndCallback = "";
    popUpSettings.ClientSideEvents.Closing = "HideOverflowOnBody";
    popUpSettings.ClientSideEvents.PopUp = "DisplayOverflowOnBody";
    popUpSettings.LoadContentViaCallback = LoadContentViaCallback.OnFirstShow;
    popUpSettings.HeaderText = Resources.MarkUp;
    popUpSettings.ShowHeader = true;
    popUpSettings.AllowResize = false;
    popUpSettings.AllowDragging = false;
    popUpSettings.SetContent(() =>
    {
       @Html.RenderAction("MarkUp", "Document");   
    });
    Html.DevExpress().PopupControl(popUpSettings).GetHtml();  
}



